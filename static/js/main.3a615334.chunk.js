(this.webpackJsonpmynearbyplaces=this.webpackJsonpmynearbyplaces||[]).push([[0],{42:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(20),r=n.n(s),i=(n(42),n(6)),o=n(8),j=n(7),l=n(59),d=n(55),b=n(54),u=[{id:0,name:"McDonald's",business:"restaurant",image:"https://d1ralsognjng37.cloudfront.net/8bab88a3-54cd-431f-89b5-270b98cfb07c.jpeg",address:"3310 E 22nd St, Tucson, AZ 85713"},{id:1,name:"Burger King",business:"restaurant",image:"https://cdn.sanity.io/images/czqk28jt/prod_bk/f4dc27eb7337f7cbd12d3ccd840e6a031fcba622-360x270.jpg",address:"2402 N Alvernon Way, Tucson, AZ 85712"}],h="https://noahadrap-mynearbyplaces.herokuapp.com",O={getPlaces:function(){return fetch(h+"/places").then((function(e){return e.json()}))},getReviews:function(){return fetch(h+"/reviews").then((function(e){return e.json()}))},savePlace:function(e){return fetch(h+"/addPlace",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},deletePlace:function(e){return fetch(h+"/deletePlace",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},editPlace:function(e){return fetch(h+"/editPlace",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},saveReviews:function(e){return fetch(h+"/addReview",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}},p=n(1);var x=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1];Object(c.useEffect)((function(){0==n.length&&O.getPlaces().then((function(e){return a(e)})).catch((function(e){return console.log(e)}))}));var s=n.map((function(e){return Object(p.jsxs)(l.a,{children:[Object(p.jsx)("div",{class:"text-center",children:e.name}),Object(p.jsx)("img",{class:"card-img-top",src:e.image,alt:"Card image cap"}),Object(p.jsx)("div",{class:"text-center",children:e.address}),Object(p.jsxs)(o.b,{to:{pathname:"/delete",state:{id:e.id}},children:[" ",Object(p.jsx)(b.a,{children:"Delete"})]}),Object(p.jsxs)(o.b,{to:{pathname:"/edit",state:{id:e.id}},children:[" ",Object(p.jsx)(b.a,{children:"Edit"})]})]})}));return Object(p.jsx)("div",{children:Object(p.jsx)(d.a,{children:s})})},g=n(58),m=n(15),f=n(12);var v=function(e){var t=Object(j.f)(),n=Object(c.useState)(""),a=Object(i.a)(n,2),s=a[0],r=a[1],o=Object(c.useState)(""),l=Object(i.a)(o,2);return l[0],l[1],Object(p.jsx)(m.a,{children:Object(p.jsx)(f.a,{children:Object(p.jsxs)(g.a,{onSubmit:function(){t.push("/"),e.onLoggedIn(s)},children:[Object(p.jsxs)(g.a.Group,{controlId:"formBasicEmail",children:[Object(p.jsx)(g.a.Label,{children:"Email address"}),Object(p.jsx)(g.a.Control,{type:"email",placeholder:"Enter email",onChange:function(e){r(e.target.value)}}),Object(p.jsx)("br",{}),Object(p.jsx)(g.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(p.jsxs)(g.a.Group,{controlId:"formBasicPassword",children:[Object(p.jsx)(g.a.Label,{children:"Password"}),Object(p.jsx)(g.a.Control,{type:"password",placeholder:"Password"})]}),Object(p.jsx)(b.a,{variant:"primary",type:"submit",children:"Submit"})]})})})};var y=function(e){var t=Object(j.f)(),n=Object(c.useState)(u),a=Object(i.a)(n,2),s=(a[0],a[1],Object(c.useState)("")),r=Object(i.a)(s,2),o=r[0],l=r[1],d=Object(c.useState)(""),h=Object(i.a)(d,2),x=h[0],v=h[1],y=Object(c.useState)(""),S=Object(i.a)(y,2),w=S[0],C=S[1],E=Object(c.useState)(""),T=Object(i.a)(E,2),L=T[0],P=T[1];return Object(p.jsx)(m.a,{children:Object(p.jsx)(f.a,{children:Object(p.jsxs)(g.a,{onSubmit:function(){var e={name:o,address:w,image:x};console.log(e.name),O.savePlace(e).then((function(){console.log("The place ".concat(o," was added successfully")),l(""),C(""),v("")})).catch((function(e){console.log(e),P("There was an error in adding the place ".concat(o))})),console.log(L),t.push("/")},children:[Object(p.jsxs)(g.a.Group,{controlId:"formBasicEmail",children:[Object(p.jsx)(g.a.Label,{children:"Business Info"}),Object(p.jsx)(g.a.Control,{type:"input",id:"name",placeholder:"Enter Name",onChange:function(e){l(e.target.value)}}),Object(p.jsx)(g.a.Control,{type:"input",id:"address",placeholder:"Enter Address",onChange:function(e){C(e.target.value)}}),Object(p.jsx)(g.a.Control,{type:"input",id:"image",placeholder:"Enter image link",onChange:function(e){v(e.target.value)}}),Object(p.jsx)("br",{})]}),Object(p.jsx)(b.a,{variant:"primary",type:"submit",children:"Submit"})]})})})},S=[{id:0,business:"McDonald's",name:"John Doe",review:"Great customer service!",rating:"4"},{id:1,business:"Burger King",name:"Michael Scott",review:"Could've been better",rating:"3"}];var w=function(e){var t=Object(j.f)(),n=Object(c.useState)(S),a=Object(i.a)(n,2),s=(a[0],a[1],Object(c.useState)("")),r=Object(i.a)(s,2),o=r[0],l=r[1],d=Object(c.useState)(""),u=Object(i.a)(d,2),h=u[0],x=u[1],v=Object(c.useState)(""),y=Object(i.a)(v,2),w=y[0],C=y[1],E=Object(c.useState)(""),T=Object(i.a)(E,2),L=T[0],P=T[1],I=Object(c.useState)(""),B=Object(i.a)(I,2),k=B[0],R=B[1];return Object(p.jsx)(m.a,{children:Object(p.jsx)(f.a,{children:Object(p.jsxs)(g.a,{onSubmit:function(){var e={name:o,business:w,review:h,rating:L};console.log(e.name),O.saveReviews(e).then((function(){console.log("The review by ".concat(o," was added successfully")),l(""),C(""),x(""),P("")})).catch((function(e){console.log(e),R("There was an error in adding the review by ".concat(o))})),console.log(k),t.push("/")},children:[Object(p.jsxs)(g.a.Group,{controlId:"formBasicEmail",children:[Object(p.jsx)(g.a.Label,{children:"Review Info"}),Object(p.jsx)(g.a.Control,{type:"input",id:"name",placeholder:"Enter Your Name",onChange:function(e){l(e.target.value)}}),Object(p.jsx)(g.a.Control,{type:"input",id:"business",placeholder:"Enter The Business You're Reviewing.",onChange:function(e){C(e.target.value)}}),Object(p.jsx)(g.a.Control,{type:"input",id:"review",placeholder:"Your review",onChange:function(e){x(e.target.value)}}),Object(p.jsx)(g.a.Control,{type:"input",id:"rating",placeholder:"Your rating out of 5",onChange:function(e){P(e.target.value)}}),Object(p.jsx)("br",{})]}),Object(p.jsx)(b.a,{variant:"primary",type:"submit",children:"Submit"})]})})})};var C=function(e){var t=Object(j.g)(),n=Object(j.f)(),a=Object(c.useState)(""),s=Object(i.a)(a,2),r=s[0],o=s[1];return Object(p.jsx)(m.a,{children:Object(p.jsx)(f.a,{children:Object(p.jsxs)(g.a,{onSubmit:function(){var e={id:t.state.id};console.log(e.id),O.deletePlace(e).then((function(){console.log("The place ".concat(e.id," was added successfully"))})).catch((function(t){console.log(t),o("There was an error in adding the place ".concat(e.id))})),console.log(r),n.push("/")},children:[Object(p.jsxs)(g.a.Group,{controlId:"formBasicEmail",children:[Object(p.jsx)(g.a.Label,{children:"Are you sure you want to delete this? If no, press the Home button."}),Object(p.jsx)("br",{})]}),Object(p.jsx)(b.a,{variant:"primary",type:"submit",children:"Delete business"})]})})})},E=n(56);var T=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1];Object(c.useEffect)((function(){0==n.length&&O.getReviews().then((function(e){return a(e)})).catch((function(e){return console.log(e)}))}));var s=n.map((function(e){return Object(p.jsxs)(l.a,{children:[Object(p.jsx)("div",{class:"text-center",children:e.business}),Object(p.jsx)("div",{class:"text-center",children:e.name}),Object(p.jsxs)("div",{class:"text-center",children:['"',e.review,'"']}),Object(p.jsxs)("div",{class:"text-center",children:[e.rating,"/5"]})]})}));return Object(p.jsx)("div",{children:Object(p.jsx)(E.a,{children:s})})};var L=function(e){var t=Object(j.f)(),n=Object(j.g)(),a=Object(c.useState)(u),s=Object(i.a)(a,2),r=(s[0],s[1],Object(c.useState)("")),o=Object(i.a)(r,2),l=o[0],d=o[1],h=Object(c.useState)(""),x=Object(i.a)(h,2),v=x[0],y=x[1],S=Object(c.useState)(""),w=Object(i.a)(S,2),C=w[0],E=w[1],T=Object(c.useState)(""),L=Object(i.a)(T,2),P=L[0],I=L[1];return Object(p.jsx)(m.a,{children:Object(p.jsx)(f.a,{children:Object(p.jsxs)(g.a,{onSubmit:function(){var e={name:l,address:C,image:v,id:n.state.id};console.log(e.name),O.editPlace(e).then((function(){console.log("The place ".concat(l," was added successfully")),d(""),E(""),y("")})).catch((function(e){console.log(e),I("There was an error in adding the place ".concat(l))})),console.log(P),t.push("/")},children:[Object(p.jsxs)(g.a.Group,{controlId:"formBasicEmail",children:[Object(p.jsx)(g.a.Label,{children:"Business Info"}),Object(p.jsx)(g.a.Control,{type:"input",id:"name",placeholder:"Enter Name",onChange:function(e){d(e.target.value)}}),Object(p.jsx)(g.a.Control,{type:"input",id:"address",placeholder:"Enter Address",onChange:function(e){E(e.target.value)}}),Object(p.jsx)(g.a.Control,{type:"input",id:"image",placeholder:"Enter image link",onChange:function(e){y(e.target.value)}}),Object(p.jsx)("br",{})]}),Object(p.jsx)(b.a,{variant:"primary",type:"submit",children:"Submit"})]})})})},P=n(27),I=n(21);var B=function(e){return Object(p.jsxs)(P.a,{bg:"light",expand:"lg",children:[Object(p.jsx)(P.a.Brand,{children:"Welcome to the Review Page"}),Object(p.jsx)(P.a.Collapse,{id:"basic-navbar-nav",children:Object(p.jsxs)(I.a,{className:"mr-auto",children:[Object(p.jsx)(I.a.Link,{children:Object(p.jsx)(o.b,{to:"/",children:"Home"})}),Object(p.jsx)("br",{}),Object(p.jsx)(I.a.Link,{children:""===e.username?Object(p.jsx)(o.b,{to:"/login",children:"Login"}):Object(p.jsxs)(o.b,{to:"/logout",children:[e.username,", Logout"]})}),Object(p.jsx)(I.a.Link,{children:Object(p.jsx)(o.b,{to:"/add",children:"Add"})}),Object(p.jsx)(I.a.Link,{children:Object(p.jsx)(o.b,{to:"/review",children:"Reviews"})}),Object(p.jsx)(I.a.Link,{children:Object(p.jsx)(o.b,{to:"/addreview",children:"Add Reviews"})})]})})]})};var k=function(){return Object(p.jsx)("h2",{children:"Welcome!"})};var R=function(){return Object(p.jsxs)("div",{children:["\xa9 Copyright ",(new Date).getFullYear(),", All Rights Reserved."]})},N=(n(50),n(57));var A=function(){var e=Object(c.useState)(localStorage.getItem("username")||""),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(u),r=Object(i.a)(s,2);return r[0],r[1],Object(p.jsx)(o.a,{children:Object(p.jsxs)(N.a,{fluid:!0,children:[Object(p.jsx)(k,{}),Object(p.jsx)(B,{username:n}),Object(p.jsxs)(j.c,{children:[Object(p.jsx)(j.a,{exact:!0,path:"/",component:x,children:Object(p.jsx)(x,{})}),Object(p.jsx)(j.a,{path:"/login",children:Object(p.jsx)(v,{onLoggedIn:function(e){localStorage.setItem("username",e),a(e)}})}),Object(p.jsx)(j.a,{path:"/add",children:Object(p.jsx)(y,{})}),Object(p.jsx)(j.a,{path:"/delete",component:C,children:Object(p.jsx)(C,{})}),Object(p.jsx)(j.a,{path:"/edit",component:L,children:Object(p.jsx)(L,{})}),Object(p.jsx)(j.a,{path:"/review",component:T,children:Object(p.jsx)(T,{})}),Object(p.jsx)(j.a,{path:"/addreview",component:w,children:Object(p.jsx)(w,{})})]}),Object(p.jsx)(R,{})]})})},D=(n(51),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,60)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))});r.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(A,{})}),document.getElementById("root")),D()}},[[52,1,2]]]);
//# sourceMappingURL=main.3a615334.chunk.js.map